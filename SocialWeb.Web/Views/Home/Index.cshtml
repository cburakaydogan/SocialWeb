@{
    ViewData["Title"] = "Home Page";
}


@await Component.InvokeAsync("Timeline")


@section Scripts {
<script>
    $(document).ready(function () {
        
             $('#btnSend').click(function(e) {
            var formData = new FormData();
            
            formData.append("AppUserId", JSON.stringify(parseInt($("#AppUserId").val())));
            formData.append("Text", $("#Text").val());
            formData.append("Image", document.getElementById("Image").files[0]);
            
            $.ajax({
            data: formData,
            processData: false,
            contentType: false,
            type: "POST",
            url: "/Tweet/AddTweet/",
            success: function (result) {
                if(result=="Success"){
                $("#tweetValidation").addClass("alert alert-success").text("Sent Successfully!");
                $("#tweetValidation").alert();
                $("#tweetValidation").fadeTo(3000, 3000).slideUp(800, function(){
                });
                }
                else{
                $("#tweetValidation").addClass("alert alert-danger").text("Error Occured!");
                $("#tweetValidation").alert();
                $("#tweetValidation").fadeTo(3000, 3000).slideUp(800, function(){
                });
                }
                    }
            });
    });
     });   
</script>}